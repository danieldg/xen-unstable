Grant Access Results
SECTION&XenoServers
BREADCRUMB&Physical Disk Manager&pd.jsp

<!-- content -->
<img src="pixel.gif" class="block" width="1" height="12">

<table cellpadding="0" cellspacing="0" border="0">
<tbody>
INCLUDE&pdmenu.tmpl
<td valign="top">

<b>Grant Access Results</b>
<br>

<%
  HttpServletRequestWrapper hsrw = new HttpServletRequestWrapper(request);
  Defaults d = sc.getDefaults(); 

  String partitions[] = hsrw.getParameterValues("p");
  String size = null;

  if (partitions == null || partitions.length == 0)
  {
%>
Error: No partitions chosen.<br>
<%
  }
  else if (hsrw.getParameter("domain") == null ||
           hsrw.getParameter("domain").trim().equals(""))
  {
%>
Error: No domain specified.<br>
<%
  }
  else
  {
    int domain = -1;
    
    try
    {
      domain = Integer.decode(hsrw.getParameter("domain")).intValue();
      Mode mode;
      if (hsrw.getParameter("mode").equals("rw")) {
        mode = Mode.READ_WRITE;
      } else {
        mode = Mode.READ_ONLY;
      }
    
      for (int i = 0; i < partitions.length; i++)
      {
%>
output[<%= i %>] =<br>
<%= new CommandPhysicalGrant(d, domain, partitions[i], mode, false).execute() %> <br>
<%
      }
    } catch (NumberFormatException e) {
%>
Error: invalid domain specification.<br>
<%
    }
  }
%>


<%
  root.doFlushState();
%>


</td>
</tbody>
</table>



<!-- end content -->
