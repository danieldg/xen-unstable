Create New Virtual Disk
SECTION&XenoServers
BREADCRUMB&Virtual Disk Manager&vd.jsp

<!-- content -->
<img src="pixel.gif" class="block" width="1" height="12">

<table cellpadding="0" cellspacing="0" border="0">
<tbody>
INCLUDE&vdmenu.tmpl
<td valign="top">


<b>Create Virtual Disk Results</b>
<br>

<%
  HttpServletRequestWrapper hsrw = new HttpServletRequestWrapper(request);
  String size = hsrw.getParameter("size").trim() +
                hsrw.getParameter("sizeunits").trim();
  long expiry = Long.decode(hsrw.getParameter("expiry")).longValue(); 

  /* not perfect, but good enough for now... */
    if ( hsrw.getParameter("expiryunits").equals("d"))
  {
    expiry *= 24 * 60 * 60 * 1000;
  }
  else if ( hsrw.getParameter("expiryunits").equals("w"))
  {
    expiry *= 24 * 60 * 60 * 1000 * 7;
  }
  else if ( hsrw.getParameter("expiryunits").equals("m"))
  {
    expiry *= 24 * 60 * 60 * 1000 * 30;
  }
  else if ( hsrw.getParameter("expiryunits").equals("y"))
  {
    expiry *= 24 * 60 * 60 * 1000 * 365;
  }

%>
output = <%= root.doCreateVirtualDisk( hsrw.getParameter("name"),
                                       size, expiry)
         %>
<br>
size = <%= size %>
<br>
expiry = <%= hsrw.getParameter("expiry") %>
<br>
expiryunits = <%= hsrw.getParameter("expiryunits") %>
<br>

<%
  root.doFlushState();
%>

</td>
</tbody>
</table>




<!-- end content -->
